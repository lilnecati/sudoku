# SUDOKU UYGULAMASINA YENÄ° BÄ°R DÄ°L EKLEME KILAVUZU

Bu belge, Sudoku uygulamasÄ±na yeni bir dil eklemek iÃ§in adÄ±m adÄ±m yapÄ±lmasÄ± gereken iÅŸlemleri iÃ§ermektedir. Ä°talyanca dil desteÄŸi eklemek iÃ§in bir Ã¶rnek olarak kullanÄ±labilir.

## 1. GENEL BAKIÅ

Uygulama ÅŸu anda aÅŸaÄŸÄ±daki dilleri desteklemektedir:
- TÃ¼rkÃ§e (tr) - VarsayÄ±lan dil
- Ä°ngilizce (en)
- FransÄ±zca (fr)

Yeni bir dil eklemek iÃ§in aÅŸaÄŸÄ±daki bileÅŸenleri gÃ¼ncellememiz gerekecek:
- `LocalizationManager.swift` - Dil yÃ¶netiminden sorumlu sÄ±nÄ±f
- `Localizable.xcstrings` - TÃ¼m metinlerin yerelleÅŸtirme dosyasÄ±
- `SettingsView.swift` - Dil seÃ§enekleri iÃ§in kullanÄ±cÄ± arayÃ¼zÃ¼
- `Resources` klasÃ¶rÃ¼nde yeni dil iÃ§in lproj klasÃ¶rÃ¼

## 2. ADIM ADIM YENÄ° DÄ°L EKLEME Ä°ÅLEMÄ°

### 2.1. Xcode Projesi HazÄ±rlÄ±ÄŸÄ±

1. Xcode'da projeyi aÃ§Ä±n.
2. Proje ayarlarÄ±na gidin (ana projeye tÄ±klayÄ±n).
3. "Info" sekmesinde "Localizations" bÃ¶lÃ¼mÃ¼nÃ¼ bulun.
4. "+" butonuna tÄ±klayarak yeni dil ekleyin (Ã¶rn: Ä°talyanca - "it").
5. Xcode'un yerelleÅŸtirme iÃ§in oluÅŸturduÄŸu yapÄ±yÄ± kabul edin, bu iÅŸlem otomatik olarak gerekli lproj klasÃ¶rlerini oluÅŸturacaktÄ±r.

### 2.2. LocalizationManager.swift GÃ¼ncelleme

`Sudoku/Extensions/LocalizationManager.swift` dosyasÄ±nÄ± aÃ§Ä±n ve aÅŸaÄŸÄ±daki deÄŸiÅŸiklikleri yapÄ±n:

```swift
// MEVCUT KOD
struct AppLanguage: Equatable {
    static let english = AppLanguage(code: "en", name: "English")
    static let turkish = AppLanguage(code: "tr", name: "TÃ¼rkÃ§e")
    static let french = AppLanguage(code: "fr", name: "FranÃ§ais")
    
    static let allLanguages = [english, turkish, french]
    
    let code: String
    let name: String
}

// YENÄ° KOD - Ä°talyanca ekleme Ã¶rneÄŸi
struct AppLanguage: Equatable {
    static let english = AppLanguage(code: "en", name: "English")
    static let turkish = AppLanguage(code: "tr", name: "TÃ¼rkÃ§e")
    static let french = AppLanguage(code: "fr", name: "FranÃ§ais")
    static let italian = AppLanguage(code: "it", name: "Italiano") // Yeni eklenen dil
    
    static let allLanguages = [english, turkish, french, italian] // Dil listesine ekleme
    
    let code: String
    let name: String
}
```

### 2.3. Localizable.xcstrings DosyasÄ±nÄ± GÃ¼ncelleme

1. `Sudoku/Localizable/Localizable.xcstrings` dosyasÄ±nÄ± aÃ§Ä±n.
2. Bu JSON dosyasÄ±nda her metin iÃ§in yeni dil Ã§evirisi ekleyin:

```json
"Ana Sayfa" : {
  "extractionState" : "stale",
  "localizations" : {
    "en" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Home"
      }
    },
    "fr" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Accueil"
      }
    },
    "tr" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Ana Sayfa"
      }
    },
    "it" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Home Page" // Ä°talyanca Ã§evirisi
      }
    }
  }
}
```

Not: Bu iÅŸlemi tÃ¼m yerelleÅŸtirilmiÅŸ metinler iÃ§in tekrarlamanÄ±z gerekecektir. Toplam 1000'den fazla yerelleÅŸtirilmiÅŸ metin vardÄ±r. TÃ¼m metinleri Ã§evirmek iÃ§in dil uzmanÄ± desteÄŸi almanÄ±z Ã¶nerilir.

### 2.4. Dil Bayrak Emojisi ve Ä°sim TanÄ±mlama

Localizable.xcstrings dosyasÄ±nda, dil seÃ§im ekranÄ±nda kullanÄ±lacak dil adÄ± ve bayrak emoji tanÄ±mlamalarÄ±nÄ± ekleyin:

```json
"language.it" : {
  "localizations" : {
    "en" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Italian"
      }
    },
    "fr" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Italien"
      }
    },
    "tr" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Ä°talyanca"
      }
    },
    "it" : {
      "stringUnit" : {
        "state" : "translated",
        "value" : "Italiano"
      }
    }
  }
}
```

AyrÄ±ca, Ä°talya bayraÄŸÄ± emoji'sini de tanÄ±mlayÄ±n:

```json
"ğŸ‡®ğŸ‡¹" : {

}

"ğŸ‡®ğŸ‡¹ Italiano" : {

}
```

### 2.5. Dil SeÃ§im EkranÄ±nÄ± GÃ¼ncelleme (SettingsView.swift)

`Sudoku/View/SettingsView.swift` dosyasÄ±nda dil seÃ§im arayÃ¼zÃ¼nÃ¼ dÃ¼zenlemeniz gerekecek. Bu dosyada, dil seÃ§imi iÃ§in Ã¶zel bir bileÅŸen bulunmaktadÄ±r. `LanguageSelectionSheet` adlÄ± bu bileÅŸeni gÃ¼ncellemeniz gerekir:

```swift
// LanguageSelectionSheet.swift iÃ§inde veya SettingsView.swift iÃ§inde (eÄŸer ayrÄ± bir dosya deÄŸilse)

struct LanguageSelectionSheet: View {
    @Binding var selectedLanguage: String
    @ObservedObject var localizationManager: LocalizationManager
    @Environment(\.presentationMode) var presentationMode
    
    var body: some View {
        NavigationView {
            VStack(spacing: 12) {
                // BaÅŸlÄ±k ve aÃ§Ä±klama
                Text.localizedSafe("language.selection")
                    .font(.title2)
                    .bold()
                    .padding(.top)
                
                // Dil seÃ§enekleri
                ScrollView {
                    VStack(spacing: 10) {
                        // Mevcut diller
                        LanguageButton(
                            language: AppLanguage.english,
                            isSelected: selectedLanguage == AppLanguage.english.code,
                            action: { selectLanguage(AppLanguage.english) }
                        )
                        
                        LanguageButton(
                            language: AppLanguage.turkish,
                            isSelected: selectedLanguage == AppLanguage.turkish.code,
                            action: { selectLanguage(AppLanguage.turkish) }
                        )
                        
                        LanguageButton(
                            language: AppLanguage.french,
                            isSelected: selectedLanguage == AppLanguage.french.code,
                            action: { selectLanguage(AppLanguage.french) }
                        )
                        
                        // YENÄ° DÄ°L BUTONU EKLE
                        LanguageButton(
                            language: AppLanguage.italian, // Yeni eklenen dil
                            isSelected: selectedLanguage == AppLanguage.italian.code,
                            action: { selectLanguage(AppLanguage.italian) }
                        )
                        
                        // YakÄ±nda eklenecek dil mesajÄ±
                        Text.localizedSafe("coming.soon.languages")
                            .font(.headline)
                            .foregroundColor(.secondary)
                            .padding(.top, 20)
                            .padding(.bottom, 10)
                        
                        // YakÄ±nda eklenecek diÄŸer diller
                        HStack {
                            Text("ğŸ‡ªğŸ‡¸")
                                .font(.largeTitle)
                            Text.localizedSafe("language.es")
                                .foregroundColor(.secondary)
                        }
                        .padding(.vertical, 8)
                        .padding(.horizontal, 16)
                        .background(
                            RoundedRectangle(cornerRadius: 8)
                                .fill(Color.gray.opacity(0.1))
                        )
                        .overlay(
                            RoundedRectangle(cornerRadius: 8)
                                .stroke(Color.gray.opacity(0.3), lineWidth: 1)
                        )
                        
                        Spacer()
                    }
                    .padding()
                }
                
                // Kapat butonu
                Button(action: {
                    presentationMode.wrappedValue.dismiss()
                }) {
                    Text("Bitti")
                        .font(.headline)
                        .foregroundColor(.white)
                        .frame(maxWidth: .infinity)
                        .padding()
                        .background(Color.blue)
                        .cornerRadius(10)
                }
                .padding(.horizontal)
                .padding(.bottom)
            }
            .navigationBarTitle("", displayMode: .inline)
            .navigationBarItems(trailing: Button(action: {
                presentationMode.wrappedValue.dismiss()
            }) {
                Image(systemName: "xmark.circle.fill")
                    .foregroundColor(.gray)
            })
        }
    }
    
    private func selectLanguage(_ language: AppLanguage) {
        // Dil seÃ§imi yapÄ±lÄ±nca gerÃ§ekleÅŸecek iÅŸlemler
        selectedLanguage = language.code
        localizationManager.setLanguage(language)
        
        // Sekmeyi kapat
        presentationMode.wrappedValue.dismiss()
    }
}

// LanguageButton yapÄ±sÄ±nÄ±n uygulamada zaten tanÄ±mlÄ± olduÄŸundan emin olun
// EÄŸer deÄŸiÅŸiklik gerekiyorsa, Ä°talya bayraÄŸÄ±nÄ± doÄŸru emoji ile gÃ¼ncelleyin
```

### 2.6. lproj KlasÃ¶rlerini ve DosyalarÄ±nÄ± OluÅŸturma

1. `Sudoku/Resources/it.lproj` klasÃ¶rÃ¼nÃ¼ oluÅŸturun (muhtemelen Xcode projeye dil eklediÄŸinizde otomatik olarak oluÅŸturulmuÅŸtur).
2. EÄŸer Xcode bunu otomatik oluÅŸturmadÄ±ysa, klasÃ¶rÃ¼ manuel olarak oluÅŸturun:

```
$ mkdir -p Sudoku/Resources/it.lproj
```

### 2.7. TÃ¼m Metinleri Ã‡evirme

Uygulamada bulunan tÃ¼m metinleri yeni dile Ã§evirmeniz gerekecektir. Bu iÅŸlem iÃ§in:

1. `ui_texts_complete.txt` dosyasÄ±nda tÃ¼m metinlerin listesini gÃ¶rebilirsiniz.
2. Bu dosyadaki her metni, yeni dilinize Ã§evirin.
3. Ã‡evirileri `Localizable.xcstrings` dosyasÄ±na ekleyin.

Ä°htiyaÃ§ duyarsanÄ±z, bir tercÃ¼man veya Ã§eviri servisi kullanarak tÃ¼m metinlerin doÄŸru Ã§evirisini elde edebilirsiniz.

### 2.8. Test Etme

1. TÃ¼m deÄŸiÅŸiklikleri yaptÄ±ktan sonra, uygulamayÄ± derleyin.
2. UygulamayÄ± bir simÃ¼latÃ¶rde veya gerÃ§ek bir cihazda Ã§alÄ±ÅŸtÄ±rÄ±n.
3. `Ayarlar > Dil` bÃ¶lÃ¼mÃ¼ne gidin ve yeni eklediÄŸiniz dili seÃ§in.
4. Uygulama arayÃ¼zÃ¼nÃ¼n yeni dile gÃ¶re gÃ¼ncellendiÄŸinden emin olun.
5. TÃ¼m ekranlarÄ± kontrol ederek Ã§eviri eksikliÄŸi veya hatalarÄ± olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.

## 3. Ã–NEMLÄ° NOTLAR

1. **JSON FormatÄ±**: `Localizable.xcstrings` dosyasÄ±nÄ± dÃ¼zenlerken, geÃ§erli JSON formatÄ±nÄ± koruduÄŸunuzdan emin olun. Bir virgÃ¼l veya parantez hatasÄ±, tÃ¼m dosyanÄ±n geÃ§ersiz olmasÄ±na neden olabilir.

2. **Ã‡eviri TutarlÄ±lÄ±ÄŸÄ±**: Ã‡evirilerin tutarlÄ± olduÄŸundan emin olun. AynÄ± terimler iÃ§in her zaman aynÄ± Ã§evirileri kullanÄ±n.

3. **Yer Tutucular**: `%@`, `%d`, `%lld` gibi yer tutucularÄ± deÄŸiÅŸtirmeyin. Bunlar uygulama Ã§alÄ±ÅŸÄ±rken dinamik olarak deÄŸiÅŸtirilecek deÄŸerlerdir.

4. **Uzunluk KÄ±sÄ±tlamalarÄ±**: BazÄ± arayÃ¼z elementleri, belirli bir uzunlukta metni destekleyebilir. Ã‡eviriler Ã§ok uzunsa, ekranda kesilmiÅŸ gÃ¶rÃ¼nebilir.

5. **Kaynak YÃ¶netimi**: Yeni dil ekledikten sonra, uygulamanÄ±n boyutu biraz artacaktÄ±r. Bu nedenle, gereksiz kaynaklardan kaÃ§Ä±nmak iÃ§in optimize edilmiÅŸ Ã§eviriler kullanmaya Ã¶zen gÃ¶sterin.

## 4. SORUN GÄ°DERME

YaygÄ±n Sorunlar ve Ã‡Ã¶zÃ¼mleri:

1. **Dil GÃ¶rÃ¼nmÃ¼yor**: EÄŸer eklediÄŸiniz dil, dil seÃ§im ekranÄ±nda gÃ¶rÃ¼nmÃ¼yorsa, `LocalizationManager.swift` dosyasÄ±nda `allLanguages` dizisinde olduÄŸundan emin olun.

2. **Ã‡eviriler GÃ¶rÃ¼nmÃ¼yor**: EÄŸer dili seÃ§tikten sonra Ã§eviriler gÃ¶rÃ¼nmÃ¼yorsa, `Localizable.xcstrings` dosyasÄ±ndaki format ve yapÄ±yÄ± kontrol edin.

3. **Uygulama Ã‡Ã¶kÃ¼yor**: Dil deÄŸiÅŸtirme sÄ±rasÄ±nda uygulama Ã§Ã¶kÃ¼yorsa, `Localizable.xcstrings` dosyasÄ±nda JSON formatÄ± hatasÄ± olabilir.

4. **Yer Tutucular Ã‡alÄ±ÅŸmÄ±yor**: Yer tutucularÄ± doÄŸru ÅŸekilde kullandÄ±ÄŸÄ±nÄ±zdan emin olun. BazÄ± dillerde cÃ¼mle yapÄ±sÄ± farklÄ± olabilir, ancak yer tutucularÄ±n sÄ±rasÄ± ve sayÄ±sÄ± korunmalÄ±dÄ±r.

## 5. Ä°LAVE KAYNAKLAR

- Xcode Localization Guide: https://developer.apple.com/documentation/xcode/localization
- String Catalog Format: https://developer.apple.com/documentation/xcode/string-catalogs
- iOS Localization Best Practices: https://developer.apple.com/localization/

Bu belge, Sudoku uygulamasÄ±na yeni bir dil eklemek iÃ§in detaylÄ± bir kÄ±lavuz sunmaktadÄ±r. EklediÄŸiniz dilin kalitesini artÄ±rmak iÃ§in, o dili anadili olarak konuÅŸan birinden yardÄ±m almanÄ±zÄ± Ã¶neririz. 